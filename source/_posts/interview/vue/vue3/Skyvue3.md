---
title: vue3面试总结
categories: 
    - 面试
    - vue3
tags:
  - vue3
abbrlink: bb29b79a
date: 2025-01-02 18:12:38
---

**本文讲述了vue3面试的相关问题**

<!-- more -->

# vue中使用v-for，key值为什么不推荐使用index

key主要用于做DOM diff算法的，diff算法就是比较两颗树（旧的虚拟DOM树和新的虚拟DOM树）之间的差异。

## v-for循环加key值的必要性

vue中如果没有显式地提供一个 key 属性，Vue 会默认使用列表项的索引作为该项的 key 值。所以给key提供index值和不给其设置key值效果一样。

列表数据修改的时候，他会根据key值去判断某个值是否修改，如果修改，则重新渲染这一项，否则复用之前的元素。

比如我们只想插入一个F，其它都不变，本应该如下图：

![image-20250815174814587](image-20250815174814587.png)

而如果按照下图去渲染，各个位置都重新渲染一遍，就有点劳师动众了：

![image-20250815175028023](image-20250815175028023.png)

所以我们需要使用key来给每个节点做一个唯一标识，Diff算法就可以正确的识别此节点，找到正确的位置区插入新的节点

![image-20250815175111419](image-20250815175111419.png)

一句话，key的作用主要是为了高效地更新虚拟DOM。另外vue中在使用相同标签名元素的过渡切换时，也会使用到key属性，其目的也是为了让vue可以区分它们，否则vue只会替换其内部属性而不会触发过渡效果。